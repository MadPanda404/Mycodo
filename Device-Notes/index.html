<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Mycodo Documentation"><meta name=author content="Kyle T. Gabriel"><link href=https://kizniche.github.io/Mycodo/Device-Notes/ rel=canonical><link rel=icon href=../images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.7"><title>Device Notes - Mycodo</title><link rel=stylesheet href=../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/hide_lang_links.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#edge-detection class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Mycodo class="md-header__button md-logo" aria-label=Mycodo data-md-component=logo> <img src=../images/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Mycodo </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Device Notes </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=./ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=../index.de/ hreflang=de class=md-select__link> Deutsche </a> </li> <li class=md-select__item> <a href=../index.es/ hreflang=es class=md-select__link> Español </a> </li> <li class=md-select__item> <a href=../index.fr/ hreflang=fr class=md-select__link> Français </a> </li> <li class=md-select__item> <a href=../index.id/ hreflang=id class=md-select__link> Bahasa Indonesia </a> </li> <li class=md-select__item> <a href=../index.it/ hreflang=it class=md-select__link> Italiano </a> </li> <li class=md-select__item> <a href=../index.nl/ hreflang=nl class=md-select__link> Nederlands </a> </li> <li class=md-select__item> <a href=../index.nn/ hreflang=nn class=md-select__link> Norsk </a> </li> <li class=md-select__item> <a href=../index.pl/ hreflang=pl class=md-select__link> Polski </a> </li> <li class=md-select__item> <a href=../index.pt/ hreflang=pt class=md-select__link> Português </a> </li> <li class=md-select__item> <a href=../index.ru/ hreflang=ru class=md-select__link> русский язык </a> </li> <li class=md-select__item> <a href=../index.sr/ hreflang=sr class=md-select__link> српски </a> </li> <li class=md-select__item> <a href=../index.sv/ hreflang=sv class=md-select__link> Svenska </a> </li> <li class=md-select__item> <a href=../index.tr/ hreflang=tr class=md-select__link> Türkçe </a> </li> <li class=md-select__item> <a href=../index.zh/ hreflang=zh class=md-select__link> 中文 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/kizniche/Mycodo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kizniche/Mycodo </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../About/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../Data-Viewing/ class=md-tabs__link> Usage </a> </li> <li class=md-tabs__item> <a href=../Supported-Inputs-By-Measurement/ class="md-tabs__link md-tabs__link--active"> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../System-Information/ class=md-tabs__link> System </a> </li> <li class=md-tabs__item> <a href=../Troubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Mycodo class="md-nav__button md-logo" aria-label=Mycodo data-md-component=logo> <img src=../images/favicon.png alt=logo> </a> Mycodo </label> <div class=md-nav__source> <a href=https://github.com/kizniche/Mycodo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kizniche/Mycodo </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> About </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Usage data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Data-Viewing/ class=md-nav__link> Data Viewing </a> </li> <li class=md-nav__item> <a href=../Inputs/ class=md-nav__link> Inputs </a> </li> <li class=md-nav__item> <a href=../Outputs/ class=md-nav__link> Outputs </a> </li> <li class=md-nav__item> <a href=../Functions/ class=md-nav__link> Functions </a> </li> <li class=md-nav__item> <a href=../Actions/ class=md-nav__link> Actions </a> </li> <li class=md-nav__item> <a href=../Calibration/ class=md-nav__link> Calibration </a> </li> <li class=md-nav__item> <a href=../Methods/ class=md-nav__link> Methods </a> </li> <li class=md-nav__item> <a href=../Alerts/ class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=../Notes/ class=md-nav__link> Notes </a> </li> <li class=md-nav__item> <a href=../Camera/ class=md-nav__link> Camera </a> </li> <li class=md-nav__item> <a href=../Energy-Usage/ class=md-nav__link> Energy Usage </a> </li> <li class=md-nav__item> <a href=../Python-Code/ class=md-nav__link> Python Code </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Supported Devices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Supported-Inputs-By-Measurement/ class=md-nav__link> Inputs Sorted by Measurement </a> </li> <li class=md-nav__item> <a href=../Supported-Inputs/ class=md-nav__link> Supported Inputs </a> </li> <li class=md-nav__item> <a href=../Supported-Outputs/ class=md-nav__link> Supported Outputs </a> </li> <li class=md-nav__item> <a href=../Supported-Functions/ class=md-nav__link> Supported Functions </a> </li> <li class=md-nav__item> <a href=../Supported-Actions/ class=md-nav__link> Supported Actions </a> </li> <li class=md-nav__item> <a href=../Supported-Widgets/ class=md-nav__link> Supported Widgets </a> </li> <li class=md-nav__item> <a href=../I2C-Multiplexers/ class=md-nav__link> I2C Multiplexers </a> </li> <li class=md-nav__item> <a href=../Analog-To-Digital-Converters/ class=md-nav__link> Analog-To-Digital Converters </a> </li> <li class=md-nav__item> <a href=../Interfaces/ class=md-nav__link> Interfaces </a> </li> <li class=md-nav__item> <a href=../Dependencies/ class=md-nav__link> Dependencies </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Device Notes <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Device Notes </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#edge-detection class=md-nav__link> Edge Detection </a> </li> <li class=md-nav__item> <a href=#displays class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=#raspberry-pi class=md-nav__link> Raspberry Pi </a> </li> <li class=md-nav__item> <a href=#am2315 class=md-nav__link> AM2315 </a> </li> <li class=md-nav__item> <a href=#k-30 class=md-nav__link> K-30 </a> </li> <li class=md-nav__item> <a href=#usb-device-persistence-across-reboots class=md-nav__link> USB Device Persistence Across Reboots </a> </li> <li class=md-nav__item> <a href=#diagrams class=md-nav__link> Diagrams </a> <nav class=md-nav aria-label=Diagrams> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dht11-diagrams class=md-nav__link> DHT11 Diagrams </a> </li> <li class=md-nav__item> <a href=#ds18b20-diagrams class=md-nav__link> DS18B20 Diagrams </a> </li> <li class=md-nav__item> <a href=#raspberry-pi-and-relay-diagrams class=md-nav__link> Raspberry Pi and Relay Diagrams </a> <nav class=md-nav aria-label="Raspberry Pi and Relay Diagrams"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#raspberry-pi-4-relays-4-outlets-1-ds18b20-sensor class=md-nav__link> Raspberry Pi, 4 relays, 4 outlets, 1 DS18B20 sensor </a> </li> <li class=md-nav__item> <a href=#raspberry-pi-8-relays-8-outlets class=md-nav__link> Raspberry Pi, 8 relays, 8 outlets </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> System <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=System data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../System-Information/ class=md-nav__link> System Information </a> </li> <li class=md-nav__item> <a href=../Configuration-Settings/ class=md-nav__link> System Configuration </a> </li> <li class=md-nav__item> <a href=../Upgrade-Backup-Restore/ class=md-nav__link> Upgrade/Backup/Restore </a> </li> <li class=md-nav__item> <a href=../Export-Import/ class=md-nav__link> Export/Import </a> </li> <li class=md-nav__item> <a href=../Error-Codes/ class=md-nav__link> Error Codes </a> </li> <li class=md-nav__item> <a href=../Mycodo-Client/ class=md-nav__link> Mycodo Client </a> </li> <li class=md-nav__item> <a href=../API/ class=md-nav__link> API </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#edge-detection class=md-nav__link> Edge Detection </a> </li> <li class=md-nav__item> <a href=#displays class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=#raspberry-pi class=md-nav__link> Raspberry Pi </a> </li> <li class=md-nav__item> <a href=#am2315 class=md-nav__link> AM2315 </a> </li> <li class=md-nav__item> <a href=#k-30 class=md-nav__link> K-30 </a> </li> <li class=md-nav__item> <a href=#usb-device-persistence-across-reboots class=md-nav__link> USB Device Persistence Across Reboots </a> </li> <li class=md-nav__item> <a href=#diagrams class=md-nav__link> Diagrams </a> <nav class=md-nav aria-label=Diagrams> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dht11-diagrams class=md-nav__link> DHT11 Diagrams </a> </li> <li class=md-nav__item> <a href=#ds18b20-diagrams class=md-nav__link> DS18B20 Diagrams </a> </li> <li class=md-nav__item> <a href=#raspberry-pi-and-relay-diagrams class=md-nav__link> Raspberry Pi and Relay Diagrams </a> <nav class=md-nav aria-label="Raspberry Pi and Relay Diagrams"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#raspberry-pi-4-relays-4-outlets-1-ds18b20-sensor class=md-nav__link> Raspberry Pi, 4 relays, 4 outlets, 1 DS18B20 sensor </a> </li> <li class=md-nav__item> <a href=#raspberry-pi-8-relays-8-outlets class=md-nav__link> Raspberry Pi, 8 relays, 8 outlets </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/kizniche/Mycodo/edit/master/docs/Device-Notes.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1>Device Notes</h1> <ul> <li class="i18n-link i18n-link-not-found i18n-link-de">Deutsche: Deze pagina is niet vertaald naar het Duits.</li> <li class="i18n-link i18n-link-not-found i18n-link-es">Español: Esta página no está traducida al castellano.</li> <li class="i18n-link i18n-link-not-found i18n-link-fr">Français: Cette page n'est pas traduite en français.</li> <li class="i18n-link i18n-link-not-found i18n-link-id">Bahasa Indonesia: Halaman ini tidak diterjemahkan ke bahasa Indonesia.</li> <li class="i18n-link i18n-link-not-found i18n-link-it">Italiano: Questa pagina non è tradotta in italiano.</li> <li class="i18n-link i18n-link-not-found i18n-link-nn">Norsk: Denne siden er ikke oversatt til norsk.</li> <li class="i18n-link i18n-link-not-found i18n-link-pl">Polski: Ta strona nie jest przetłumaczona na język polski.</li> <li class="i18n-link i18n-link-not-found i18n-link-pt">Português: Esta página não está traduzida para o português.</li> <li class="i18n-link i18n-link-not-found i18n-link-ru">русский язык: Эта страница не переведена на русский язык.</li> <li class="i18n-link i18n-link-not-found i18n-link-sr">српски: Ова страница није преведена на српски.</li> <li class="i18n-link i18n-link-not-found i18n-link-sv">Svenska: Denna sida är inte översatt till svenska.</li> <li class="i18n-link i18n-link-not-found i18n-link-tr">Türkçe: Bu sayfa Türkçe'ye çevrilmemiştir.</li> <li class="i18n-link i18n-link-not-found i18n-link-zh">中文: 此页面未翻译成中文.</li> </ul> <p>This information may not be current, so always reference and follow manufacturer recommendations for operating their devices.</p> <h2 id=edge-detection>Edge Detection<a class=headerlink href=#edge-detection title="Permanent link">~</a></h2> <p>The detection of a changing signal, for instance a simple switch completing a circuit, requires the use of edge detection. By detecting a rising edge (LOW to HIGH), a falling edge (HIGH to LOW), or both, actions or events can be triggered. The GPIO chosen to detect the signal should be equipped with an appropriate resistor that either pulls the GPIO up [to 5-volts] or down [to ground]. The option to enable the internal pull-up or pull-down resistors is not available for safety reasons. Use your own resistor to pull the GPIO high or low.</p> <p>Examples of devices that can be used with edge detection: simple switches and buttons, PIR motion sensors, reed switches, hall effect sensors, float switches, and more.</p> <h2 id=displays>Displays<a class=headerlink href=#displays title="Permanent link">~</a></h2> <p>There are only a few number fo displays that are supported. 16x2 and 20x4 character LCD displays with I2C backpacks and the <a href=https://www.adafruit.com/product/931>128x32</a> / <a href=https://www.adafruit.com/product/931>128x64</a> OLED displays are supported. The below image is the type of device with the I2C backpack that should be compatible. See <a href=../Supported-Functions/ >Supported Functions</a> for more information.</p> <p><img alt=image4 src=../images/LCD-front-back.jpg></p> <h2 id=raspberry-pi>Raspberry Pi<a class=headerlink href=#raspberry-pi title="Permanent link">~</a></h2> <p>The Raspberry Pi has an integrated temperature sensor on the BCM2835 SoC that measure the temperature of the CPU/GPU. This is the easiest sensor to set up in Mycodo, as it is immediately available to be used.</p> <h2 id=am2315>AM2315<a class=headerlink href=#am2315 title="Permanent link">~</a></h2> <p>From <a href=https://github.com/kizniche/Mycodo/issues/315#issuecomment-344798815>@Theoi-Meteoroi</a> on GitHub:</p> <p>I figured out why this [AM2315] sensor is unreliable with Rpi3 hardware I2C. It is among a number of I2C devices that really hates the BCM2835 clock stretching blunder (hardware bug: <a href=https://github.com/raspberrypi/linux/issues/254>raspberrypi/linux#254</a>). The wakeup attempts fail, consistently. I checked the bitstream with a sniffer, and see that the sensor may respond once out of 20 or so tries (or not at all) but only with a single byte returned. The solution is to use a software implementation of the I2C bus. You need to add pull-up resistors (4.7k is dandy) to 3.3v and install the i2c_gpio device overlay. Seems to work fine now, will run for a few days, but the CRC failures are gone and I get good readings, every time. And no twiddling the power for the sensor is required.</p> <p>To enable software I2C, add the following line to your <code>/boot/config.txt</code></p> <p><code>dtoverlay=i2c-gpio,i2c_gpio_sda=23,i2c_gpio_scl=24,i2c_gpio_delay_us=4</code></p> <p>After rebooting, a new I2C bus at /dev/i2c-3 should exist with SDA on pin 23 (BCM) and SCL on pin 24 (BCM). Make sure you add the appropriate pull-up resistors before connecting any devices.</p> <h2 id=k-30>K-30<a class=headerlink href=#k-30 title="Permanent link">~</a></h2> <p><img alt=image5 src=../images/Sensor-K30-01.jpg></p> <p>Be very careful when connecting the K-30, as there is no reverse-voltage protection and improper connections could destroy your sensor.</p> <p>Wiring instructions for the Raspberry Pi can be found <a href=https://www.co2meter.com/blogs/news/8307094-using-co2meter-com-sensors-with-raspberry-pi>here</a>.</p> <h2 id=usb-device-persistence-across-reboots>USB Device Persistence Across Reboots<a class=headerlink href=#usb-device-persistence-across-reboots title="Permanent link">~</a></h2> <p>From <a href=https://github.com/kizniche/Mycodo/issues/547#issuecomment-428752904>(#547) Theoi-Meteoroi on Github</a>:</p> <p>Using USB devices, such as USB-to-serial interfaces (CP210x) to connect a sensor, while convenient, poses an issue if there are multiple devices when the system reboots. After a reboot, there is no guarantee the device will persist with the same name. For instance, if Sensor A is /dev/ttyUSB0 and Sensor B is /dev/ttyUSB1, after a reboot Sensor A may be /dev/ttyUSB1 and Sensor B may be /dev/ttyUSB0. This will cause Mycodo to query the wrong device for a measurement, potentially causing a mis-measurement, or worse, an incorrect measurement because the response is not from the correct sensor (I've seen my temperature sensor read 700+ degrees celsius because of this!). Follow the instructions below to alleviate this issue.</p> <p>I use udev to create a persistent device name ('/dev/dust-sensor') that will be linked to the /dev/ttyUSBn that is chosen at device arrival in the kernel. The only requirement is some attribute returned from the USB device that is unique. The common circumstance is that none of the attributes are unique and you get stuck with just VID and PID, which is ok as long as you don't have any other adapters that report the same VID and PID. If you have multiple adapters with the same VID and PID, then hopefully they have some unique attribute. This command will walk the attributes. Run on each USB device and then compare differences to possibly find some attribute to use.</p> <p><code>udevadm info --name=/dev/ttyUSB0 --attribute-walk</code></p> <p>I ended up using the serial number on the ZH03B to program the USB adapter serial field. This way guarantees unique serial numbers rather than me trying to remember what was the last serial number I used to increment by 1.</p> <p>When you plug a USB device in it can be enumerated to different device names by the operating system. To fix this problem for this sensor on linux, I changed attributes that make the connection unique.</p> <p>First - find the VID and PID for the USB device:</p> <div class=codehilite><pre><span></span><code><span class=nf>pi</span><span class=nv>@raspberry</span><span class=err>:</span><span class=o>~</span><span class=w> </span><span class=err>$</span><span class=w> </span><span class=n>lsusb</span>
<span class=n>Bus</span><span class=w> </span><span class=mi>001</span><span class=w> </span><span class=n>Device</span><span class=w> </span><span class=mi>008</span><span class=err>:</span><span class=w> </span><span class=n>ID</span><span class=w> </span><span class=mi>10</span><span class=nl>c4</span><span class=p>:</span><span class=n>ea60</span><span class=w> </span><span class=n>Cygnal</span><span class=w> </span><span class=n>Integrated</span><span class=w> </span><span class=n>Products</span><span class=p>,</span><span class=w> </span><span class=n>Inc</span><span class=p>.</span><span class=w> </span><span class=n>CP210x</span><span class=w> </span><span class=n>UART</span><span class=w> </span><span class=n>Bridge</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>myAVR</span><span class=w> </span><span class=n>mySmartUSB</span><span class=w> </span><span class=n>light</span>
<span class=n>Bus</span><span class=w> </span><span class=mi>001</span><span class=w> </span><span class=n>Device</span><span class=w> </span><span class=mi>003</span><span class=err>:</span><span class=w> </span><span class=n>ID</span><span class=w> </span><span class=mi>0424</span><span class=err>:</span><span class=n>ec00</span><span class=w> </span><span class=n>Standard</span><span class=w> </span><span class=n>Microsystems</span><span class=w> </span><span class=n>Corp</span><span class=p>.</span><span class=w> </span><span class=n>SMSC9512</span><span class=o>/</span><span class=mi>9514</span><span class=w> </span><span class=n>Fast</span><span class=w> </span><span class=n>Ethernet</span><span class=w> </span><span class=n>Adapter</span>
<span class=n>Bus</span><span class=w> </span><span class=mi>001</span><span class=w> </span><span class=n>Device</span><span class=w> </span><span class=mi>002</span><span class=err>:</span><span class=w> </span><span class=n>ID</span><span class=w> </span><span class=mi>0424</span><span class=err>:</span><span class=mi>9514</span><span class=w> </span><span class=n>Standard</span><span class=w> </span><span class=n>Microsystems</span><span class=w> </span><span class=n>Corp</span><span class=p>.</span><span class=w> </span><span class=n>SMC9514</span><span class=w> </span><span class=n>Hub</span>
<span class=n>Bus</span><span class=w> </span><span class=mi>001</span><span class=w> </span><span class=n>Device</span><span class=w> </span><span class=mi>001</span><span class=err>:</span><span class=w> </span><span class=n>ID</span><span class=w> </span><span class=mi>1</span><span class=nl>d6b</span><span class=p>:</span><span class=mi>0002</span><span class=w> </span><span class=n>Linux</span><span class=w> </span><span class=n>Foundation</span><span class=w> </span><span class=mf>2.0</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>hub</span>
</code></pre></div> <p>In this case the Vendor ID is 10c4 The Product ID is ea60</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you have multiple devices and you find your IDs to be the same, you can change IDs with the Simplicity Studio Xpress Configurator tool (discussed starting on page 6 of the <a href=https://www.silabs.com/documents/public/application-notes/AN721.pdf>AN721: USBXpress Device Configuration and Programming Guide</a>).</p> </div> <p>Since I changed the serial number field - this will be unique.</p> <div class=codehilite><pre><span></span><code><span class=nf>pi</span><span class=nv>@raspberry</span><span class=err>:</span><span class=o>~</span><span class=w> </span><span class=err>$</span><span class=w> </span><span class=n>udevadm</span><span class=w> </span><span class=n>info</span><span class=w> </span><span class=o>--</span><span class=n>name</span><span class=o>=/</span><span class=n>dev</span><span class=o>/</span><span class=n>ttyUSB0</span><span class=w> </span><span class=o>--</span><span class=n>attribute</span><span class=o>-</span><span class=n>walk</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>grep</span><span class=w> </span><span class=n>serial</span>
<span class=n>SUBSYSTEMS</span><span class=o>==</span><span class=ss>&quot;usb-serial&quot;</span>
<span class=n>ATTRS</span><span class=err>{</span><span class=n>serial</span><span class=err>}</span><span class=o>==</span><span class=ss>&quot;ZH03B180904&quot;</span>
<span class=n>ATTRS</span><span class=err>{</span><span class=n>serial</span><span class=err>}</span><span class=o>==</span><span class=ss>&quot;3f980000.usb&quot;</span>
</code></pre></div> <p>Now I have an attribute to tell udev what to do. I create a file in /etc/udev/rules.d with a name like "99-dustsensor.rules". In that file I tell udev what device name to create when it sees this device plugged in:</p> <p><code>SUBSYSTEM=="tty", ATTRS{idVendor}=="10c4", ATTRS{idProduct}=="ea60", ATTRS{serial}=="ZH03B180904" SYMLINK+="dust-sensor"</code></p> <p>To test the new rule:</p> <div class=codehilite><pre><span></span><code><span class=nf>pi</span><span class=nv>@raspberry</span><span class=err>:</span><span class=o>/</span><span class=n>dev</span><span class=w> </span><span class=err>$</span><span class=w> </span><span class=n>sudo</span><span class=w> </span><span class=n>udevadm</span><span class=w> </span><span class=k>trigger</span>
<span class=nf>pi</span><span class=nv>@raspberry</span><span class=err>:</span><span class=o>/</span><span class=n>dev</span><span class=w> </span><span class=err>$</span><span class=w> </span><span class=n>ls</span><span class=w> </span><span class=o>-</span><span class=n>al</span><span class=w> </span><span class=n>dust</span><span class=o>-</span><span class=n>sensor</span>
<span class=n>lrwxrwxrwx</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=n>Oct</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=mi>21</span><span class=err>:</span><span class=mi>04</span><span class=w> </span><span class=n>dust</span><span class=o>-</span><span class=n>sensor</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>ttyUSB0</span>
</code></pre></div> <p>Now, every time the dust sensor is plugged in, it shows up at /dev/dust-sensor</p> <h2 id=diagrams>Diagrams<a class=headerlink href=#diagrams title="Permanent link">~</a></h2> <h3 id=dht11-diagrams>DHT11 Diagrams<a class=headerlink href=#dht11-diagrams title="Permanent link">~</a></h3> <p><img alt=Schematic-Sensor-DHT11-01 src=../images/Schematic-Sensor-DHT11-01.jpg></p> <p><img alt=Schematic-Sensor-DHT11-02 src=../images/Schematic-Sensor-DHT11-02.png></p> <h3 id=ds18b20-diagrams>DS18B20 Diagrams<a class=headerlink href=#ds18b20-diagrams title="Permanent link">~</a></h3> <p><img alt=Schematic-Sensor-DS18B20-01 src=../images/Schematic-Sensor-DS18B20-01.png></p> <p><img alt=Schematic-Sensor-DS18B20-02 src=../images/Schematic-Sensor-DS18B20-02.jpg></p> <p><img alt=Schematic-Sensor-DS18B20-03 src=../images/Schematic-Sensor-DS18B20-03.jpg></p> <h3 id=raspberry-pi-and-relay-diagrams>Raspberry Pi and Relay Diagrams<a class=headerlink href=#raspberry-pi-and-relay-diagrams title="Permanent link">~</a></h3> <h4 id=raspberry-pi-4-relays-4-outlets-1-ds18b20-sensor>Raspberry Pi, 4 relays, 4 outlets, 1 DS18B20 sensor<a class=headerlink href=#raspberry-pi-4-relays-4-outlets-1-ds18b20-sensor title="Permanent link">~</a></h4> <p><img alt="Schematic: Pi, 4 relays, 4 outlets, and 1 DS18B20 sensor" src=../images/Schematic-Pi-4-relays.png></p> <h4 id=raspberry-pi-8-relays-8-outlets>Raspberry Pi, 8 relays, 8 outlets<a class=headerlink href=#raspberry-pi-8-relays-8-outlets title="Permanent link">~</a></h4> <p><img alt="Schematic: Pi, 8 relays, and 8 outlets" src=../images/Schematic-Pi-8-relays.png></p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../Dependencies/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Dependencies" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Dependencies </div> </div> </a> <a href=../System-Information/ class="md-footer__link md-footer__link--next" aria-label="Next: System Information" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> System Information </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tabs", "navigation.top"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": "8.16.0"}</script> <script src=../assets/javascripts/bundle.8492ddcf.min.js></script> </body> </html>